---
layout: post
title: "电路：单路ADC检测多按键"
description: "　　简要分析了一个按键信息转换电路，用于将按键转换为模拟电压值，线性度高。"
category: "electronic"
tags: [电路]
---
{% include JB/setup %}

　　不久前，改进了[Makeblock]的一个按键模块，使其支持多个按键同时按下的检测。原理图如下：

![原理图]({{site.img_path}}/key_to_adc.png)

　　图中VCC是为5V。

###分析

　　原理比较简单，但运用到的 trick 还是挺有意思的。左边一个同相放大器，右边一个低通滤波器和电压跟随器。同相放大器的信号源是一个恒定电压，由电阻分压生成。 Trick 在于：放大倍数不是恒定的，而是由按下的按键来确定，因此输出电压会随着按键的不同而变化。理想情况下，按键对应的电阻应该为 1:2:4:8 ，符合二进制的比例，但是常用电阻中没有 4k 和 8k ，只好用 3.9k 和 8.2k ，降低了一定的线性度，但不影响使用。

-------------------------------------------
